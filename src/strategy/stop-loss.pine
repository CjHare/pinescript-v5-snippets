// SMA Crossover Trailing Stop Loss Strategy
//
// Long Buy trigger:
// - Short SMA, Long SMA crossover
//
// Input configuration
// - trailingStopPercent: Trailing stop percentage, minimum 0.1%, increments of 0.1%

//@version=5
strategy("Trailing Stop Strategy", overlay=true)

// Input parameters
trailingStopPercent = input.float(1.5, title="Trailing Stop Percentage", minval=0.1, step=0.1)

// Calculate trailing stop
trailStop = strategy.position_avg_price * (1 - trailingStopPercent / 100)

// Generate long entry signal (for demonstration, using a simple moving average crossover)
shortMA = ta.sma(close, 10)
longMA = ta.sma(close, 30)

// shortMA crosses from under the longMA to over it
longCondition = ta.crossover(shortMA, longMA)

// Execute long trade
if (longCondition)
    strategy.entry("Long", strategy.long)

// Set trailing stop
if (strategy.position_size > 0)
    strategy.exit("Trailing Stop", from_entry="Long", trail_price=trailStop, trail_offset=na)
